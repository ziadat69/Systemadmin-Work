â‘  ØªØ«Ø¨ÙŠØª Squid Ùˆ Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
ğŸ”¹ Ø¹Ù„Ù‰ Ubuntu / Debian:

sudo apt update
sudo apt install squid apache2-utils -y

ğŸ”¹ Ø¹Ù„Ù‰ CentOS / RHEL:

sudo dnf install squid httpd-tools -y

â‘¡ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„Ø¨Ø±ÙˆÙƒØ³ÙŠ

sudo touch /etc/squid/passwd
sudo htpasswd /etc/squid/passwd user1

ğŸ”‘ Ø§Ø³ØªØ¨Ø¯Ù„ user1 Ø¨Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯Ù‡. ÙˆØ£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø¹Ù†Ø¯ Ø§Ù„Ø·Ù„Ø¨.
â‘¢ Ù†Ø³Ø® ÙˆØ¶Ø¨Ø· Ù…Ù„Ù Ø¥Ø¹Ø¯Ø§Ø¯ Squid
Ø£ÙˆÙ„Ø§Ù‹: Ø®Ø° Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ù…Ù† Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø£ØµÙ„ÙŠ:

sudo cp /etc/squid/squid.conf /etc/squid/squid.conf.bak

Ø«Ø§Ù†ÙŠÙ‹Ø§: Ø§ÙØªØ­ Ø§Ù„Ù…Ù„Ù Ù„Ù„ØªØ¹Ø¯ÙŠÙ„:

sudo nano /etc/squid/squid.conf

Ø«Ø§Ù„Ø«Ù‹Ø§: Ø§Ù„ØµÙ‚ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ Ø§Ù„ØªØ§Ù„ÙŠ:

# ================================
# Squid Proxy Config (Ù…Ø³ØªÙˆÙ‰ Ø§Ø­ØªØ±Ø§ÙÙŠ)
# Ù…Ø³ØªØ´ÙÙ‰ Ø£Ùˆ Ù…Ø¤Ø³Ø³Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ©
# ================================

http_port 3128

# ===============================
# Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† (Basic Auth)
# ===============================
auth_param basic program /usr/lib/squid/basic_ncsa_auth /etc/squid/passwd
auth_param basic realm RKH Secure Proxy
acl authenticated proxy_auth REQUIRED
http_access allow authenticated

# =========================
# ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©
# =========================
acl localnet src 192.168.0.0/16
acl SSL_ports port 443
acl Safe_ports port 80 443 21
acl CONNECT method CONNECT

# =========================
# ÙÙ„ØªØ±Ø© Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø­Ø¸ÙˆØ±Ø©
# =========================
acl bad_files url_regex -i \.exe$ \.mp4$ \.torrent$ \.zip$ \.rar$
http_access deny bad_files

# =========================
# ÙÙ„ØªØ±Ø© Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ù…Ø­Ø¸ÙˆØ±Ø©
# =========================
acl blocked_sites dstdomain .facebook.com .tiktok.com .pornhub.com
http_access deny blocked_sites

# =========================
# Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ø³Ø±Ø¹Ø© (Bandwidth)
# =========================
delay_pools 1
delay_class 1 2
delay_access 1 allow localnet
delay_parameters 1 125000/125000 32000/32000

# =========================
# ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ (Logs)
# =========================
access_log /var/log/squid/access.log squid

# =========================
# Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ø´Ø¨ÙƒØªÙ†Ø§
# =========================
http_access allow localnet
http_access deny all
